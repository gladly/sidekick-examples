<!DOCTYPE html>
<html>
  <head>
    <meta charset='utf-8'>
    <title>Gladly Sidekick Custom Minimized Button</title>

    <!--
      Sidekick can be initialized in two different way, this is the simplest way to initialize but does not
      offer granular control when Sidekick has been loaded.
     -->
    <script type="text/javascript">
      window.gladlyConfig = {
          appId: '',  // This is a value you will be given by Gladly and is specific to each customer.
      };
    </script>

    <!--
      Custom CSS to change the apperance of the custom minimized button.
     -->
    <style type="text/css">
        /*
          Position buttom in the lower right corner
         */
        #custom-gladly-chat-button {
          position: fixed;
          padding: 10px;
          right: 20px;
          bottom: 10px;
        }

        /*
          By default we hide the button
        */
        #custom-gladly-chat-button {
          display: none;
        }
        #custom-gladly-chat-button #with-active-chat {
          display: none;
        }
        #custom-gladly-chat-button #with-unread-message {
          display: none;
        }

        /*
          If "gladly-show" is there we show the button. This class is added by default when loading using window.gladlyConfig.
        */
        #custom-gladly-chat-button.gladly-show {
          display: block;
        }

        /*
          If user has gone through onboarding the "gladly-has-authenticated" class will be added,
          we hide the element with the text "START NEW CHAT" and show the element with the text
          "CONTINUE EXISTING CHAT"
        */
        #custom-gladly-chat-button.gladly-has-authenticated #with-no-active-chat {
          display: none;
        }
        #custom-gladly-chat-button.gladly-has-authenticated #with-active-chat {
          display: block;
        }
        #custom-gladly-chat-button.gladly-unread #with-unread-message {
          display: block;
        }
    </style>
  </head>
  <body>
    <h1>Gladly Sidekick Custom Minimized Button</h1>
    <div><span>This page illustrates how Gladly Sidekick can be setup and customize the minimized button</span></div>

    <a href="javascript:;" onclick="Gladly.show();">Start new chat</a>

    <!--
      A new element with ID "custom-gladly-chat-button" is added to the body, CSS will be used to place it where we want on the page.
      Sidekick will add different classes to the element to tell the button what state Sidekick is in, CSS can then be used to change
      the apperance of the button to match expectation.
     -->
    <button id="custom-gladly-chat-button" onclick="Gladly.show()">
      <div id="with-no-active-chat">
        <span>START NEW CHAT</span>
      </div>
      <div id="with-active-chat">
        <span>CONTINUE EXISTING CHAT</span>
        <div id="with-unread-message">
          <span> (unread message)</span>
        </div>
      </div>
    </button>


    <!--
     The Sidekick script is added in the HTML <body> section, this allows the rest of the page to display while Sidekick is loading.
    -->
    <script>
      !function(c,n,r,t){if(!c[r]){var i,d,p=[];d="PROD"!==t&&t?"STAGING"===t?"https://cdn.gladly.qa/gladly/chat-sdk/widget.js":t:"https://cdn.gladly.com/chat-sdk/widget.js",c[r]={init:function(){i=arguments;var e={then:function(t){return p.push({type:"t",next:t}),e},catch:function(t){return p.push({type:"c",next:t}),e}};return e}},c.__onHelpAppHostReady__=function(t){if(delete c.__onHelpAppHostReady__,(c[r]=t).loaderCdn=d,i)for(var e=t.init.apply(t,i),n=0;n<p.length;n++){var a=p[n];e="t"===a.type?e.then(a.next):e.catch(a.next)}},function(){try{var t=n.getElementsByTagName("script")[0],e=n.createElement("script");e.async=!0,e.src=d+"?q="+(new Date).getTime(),t.parentNode.insertBefore(e,t)}catch(t){}}()}}
      (window,document,'Gladly','PROD') // Note 'PROD' to the left indicate to use Production, if 'STAGING' is specified Gladly sandbox enviroment will be used.
    </script>
  </body>
</html>
